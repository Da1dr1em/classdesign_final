# éŸ³é¢‘é™å™ªæ•°å­—ä¿¡å·å¤„ç†ç³»ç»Ÿ

åŸºäº Python 3.13 å®ç°çš„æ•°å­—ä¿¡å·å¤„ç†ç³»ç»Ÿï¼Œå®Œæ•´å®ç° 6 ä¸ªè¯¾ç¨‹è¦æ±‚ã€‚

## é¡¹ç›®æ¦‚è¿°

æœ¬ç³»ç»ŸåŸºäºæ ‡å‡†æ•°å­—ä¿¡å·å¤„ç†ç†è®ºï¼Œæä¾›äº†å®Œæ•´çš„éŸ³é¢‘é™å™ªè§£å†³æ–¹æ¡ˆã€‚é€šè¿‡å¤šç§æ»¤æ³¢å™¨å’ŒæŠ€æœ¯ï¼Œæœ‰æ•ˆå»é™¤éŸ³é¢‘ä¸­çš„ç¯å¢ƒå™ªå£°ï¼Œæé«˜éŸ³é¢‘è´¨é‡ã€‚

## é¡¹ç›®ç»“æ„

```
audio_denoise_project/
â”œâ”€â”€ src/                     # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ __init__.py            # æ¨¡å—åˆå§‹
â”‚   â”œâ”€â”€ main.py              # ä¸»ç¨‹åºï¼ˆå…¥å£æ¨¡å—ï¼‰
â”‚   â”œâ”€â”€ audio_processor.py     # 1. éŸ³é¢‘å¤„ç†æ ¸å¿ƒ - ç®¡ç†æ•´ä¸ªéŸ³é¢‘å¤„ç†æµç¨‹
â”‚   â”œâ”€â”€ filters.py             # 2. æ•°å­—æ»¤æ³¢å™¨ - å®ç°å„ç§æ»¤æ³¢å™¨ç±»å‹
â”‚   â”œâ”€â”€ analysis.py          # 3. æ—¶é¢‘åŸŸåˆ†æ - åˆ†æå’Œå¯è§†åŒ–å·¥å…·
â”‚   â””â”€â”€ utils.py             # 0. å·¥å…·å‡½æ•°æ¨¡å— - æä¾›é€šç”¨å·¥å…·
â”œâ”€â”€ data/                     # æ•°æ®ç›®å½•
â”‚   â”œâ”€â”€ input/              # 4. æ•°å­—è½¬æ¢æ¨¡å— - è¯»å–éŸ³é¢‘æ•°æ®
â”‚   â””â”€â”€ output/           # 5. è¾“å‡ºç»“æœä¿å­˜ä½ç½®
â”œâ”€â”€ results/                    # 6. ç»“æœåˆ†æ - ç”ŸæˆæŠ¥å‘Šå’Œå›¾è¡¨
â”‚   â”œâ”€â”€ figures/              # åˆ†æå›¾å½¢ä¿å­˜
â”‚   â””â”€â”€ report.md           # æŠ€æœ¯æŠ¥å‘Š
â””â”€â”€ tests/                    # æµ‹è¯•å’ŒéªŒè¯æ¨¡å—
```

## æ¨¡å—åŠŸèƒ½å¯¹ç…§

| è¯¾ç¨‹ç¼–å· | æ¨¡å—åç§° | å®é™…æ–‡ä»¶ | ä¸»è¦åŠŸèƒ½ |
|---------|-----------|-----------|----------|
| (1) ä¿¡å·è¾“å…¥ | src/audio_processor.py | `AudioProcessor.load_audio()` | å®ç°ä¿¡å·è¾“å…¥å’Œæ•°å­—åŒ–è½¬æ¢ |
| (2) æ•°å­—ä¿¡å· | src/utils.py | `load_audio()` | æä¾›å®Œæ•´çš„æ•°å­—è½¬æ¢åŠŸèƒ½ |
| (3) æ—¶é¢‘åŸŸåˆ†æ | src/analysis.py | `SignalAnalysis` & `FrequencyAnalysis` | æ—¶åŸŸå’Œé¢‘åŸŸåˆ†æå·¥å…· |
| (4) æ•°å­—æ»¤æ³¢ | src/filters.py | `FilterDesign` | å®Œæ•´çš„æ•°å­—æ»¤æ³¢åŠŸèƒ½ |
| (5) æ•°å­—-æ¨¡æ‹Ÿ | src/audio_processor.py | `enhance_signal()` & `compress_signal()` | å®ç°å¢å¼ºå’Œå‹ç¼© |
| (6) ç»“æœè¾“å‡º | src/main.py | ä¸»ç¨‹åºæ§åˆ¶å™¨ | åè°ƒæ‰€æœ‰æ¨¡å—å·¥ä½œæµ |

## æ ¸å¿ƒåŠŸèƒ½è¯´æ˜

### ğŸ¯ æ¨¡å— 0: æ•°å­—è½¬æ¢ï¼ˆutils.pyï¼‰

**åŠŸèƒ½**ï¼šæ¨¡å—å°†æ¨¡æ‹ŸéŸ³é¢‘ä¿¡å·è½¬æ¢ä¸ºæ•°å­—ä¿¡å·

**ä¸»è¦æ–¹æ³•**ï¼š
- `load_audio()` - åŠ è½½å¹¶æ•°å­—åŒ–éŸ³é¢‘æ–‡ä»¶
- `save_audio()` - ä¿å­˜éŸ³é¢‘æ–‡ä»¶

**å‚æ•°**ï¼š
- `file_path` - è¾“å…¥æ–‡ä»¶è·¯å¾„
- `target_sr` - ç›®æ ‡é‡‡æ ·ç‡ï¼ˆé»˜è®¤ 44100Hzï¼‰

### ğŸ›ï¸ æ¨¡å— 1: éŸ³é¢‘å¤„ç†æ§åˆ¶å™¨ï¼ˆaudio_processor.pyï¼‰

**åŠŸèƒ½**ï¼šæ§åˆ¶å™¨æä¾›éŸ³é¢‘é™å™ªç®¡ç†çš„å…¨éƒ¨åŠŸèƒ½

**ä¸»è¦æ¥å£**ï¼š
```python
class AudioProcessor:
    def load_audio(self, file_path: str) -> bool:
        """åŠ è½½éŸ³é¢‘æ–‡ä»¶ç”¨äºæ•°å­—è½¬æ¢ä¿¡å·"""

    def analyze_time_domain(self) -> Dict:
        """æ‰§è¡Œæ—¶åŸŸåˆ†æï¼ˆæ­¥éª¤3.1ï¼‰"""

    def analyze_frequency_domain(self) -> Dict:
        """æ‰§è¡Œé¢‘åŸŸåˆ†æï¼ˆæ­¥éª¤3.2ï¼‰"""

    def apply_filter(self, filter_type: str, **params) -> np.ndarray:
        """åº”ç”¨æ•°å­—æ»¤æ³¢å™¨ï¼ˆæ­¥éª¤4ï¼‰"""
        # å‚æ•°ï¼š
        # - filer_typeï¼šæ»¤æ³¢å™¨ç±»å‹
        #   - 'fir_lowpass', 'iir_butterworth', 'adaptive_...'
        #   - 'wiener'
        # - **paramsï¼šå¯¹åº”æ»¤æ³¢å™¨çš„å‚æ•°

    def enhance_signal(self, enhancement_type: str):
        """æ­¥éª¤5.1: æ”¾å¤§éŸ³é¢‘ä¿¡å·"""
        # å‚æ•°ï¼š
        # - enhancement_type: 'normalize'
        # - *params:
        #   - target_max: ç›®æ ‡æœ€å¤§å€¼ï¼ˆé»˜è®¤ 0.9ï¼‰
```

## ç¤ºä¾‹ä»£ç 

**æ§åˆ¶å™¨ç”¨æ³•ç¤ºä¾‹**ï¼š

ä½¿ç”¨ä»£ç æ‰§è¡Œåˆ†æå¹¶ç”Ÿæˆå›¾æ ‡:

```shell
python src/main.py --input .\data\input\conversation_human.wav --filter fir_bandpass --cutoff 300 --highcut 3400 --enhance
```
